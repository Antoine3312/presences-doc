import{_ as t,c as s,a0 as a,o as i}from"./chunks/framework.DX7EX5Ix.js";const h=JSON.parse('{"title":"Gestion des Fonctionnalités","description":"","frontmatter":{},"headers":[],"relativePath":"installation/feature-flag.md","filePath":"src/installation/feature-flag.md"}'),n={name:"installation/feature-flag.md"};function l(r,e,o,d,c,u){return i(),s("div",null,e[0]||(e[0]=[a(`<h1 id="gestion-des-fonctionnalites" tabindex="-1">Gestion des Fonctionnalités <a class="header-anchor" href="#gestion-des-fonctionnalites" aria-label="Permalink to &quot;Gestion des Fonctionnalités&quot;">​</a></h1><p>Pour gérer les fonctionnalités accessibles par les utilisateurs finaux, Présences utilise un système de <code>feature-flag</code> permettant de bloquer/activer une à une chacune des fonctionnalités non-primaires.</p><p>Pour cela, il suffit d&#39;ajouter au fichier <code>.env</code> la variable</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VITE_FEATURE_FLAGS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">ATTENTION</p><ul><li>Si la variable n&#39;est pas définie dans le <code>.env</code>, alors <strong>toutes les fonctionnalités non-primares seront activés</strong>. <br></li><li>Si la variable est définie dans le <code>.env</code>, mais qu&#39;aucune valeur ne lui est attribué, alors <strong>aucunes des fonctionnalités non-primares seront activés</strong>.</li></ul></div><h2 id="valeur-des-feature-flags" tabindex="-1">Valeur des feature-flags <a class="header-anchor" href="#valeur-des-feature-flags" aria-label="Permalink to &quot;Valeur des feature-flags&quot;">​</a></h2><p>Pour chacune des fonctionnalités, voici l&#39;intitulé des valeurs à utiliser pour activer/désactiver la fonctionnalité en question</p><table tabindex="0"><thead><tr><th><strong>Fonctionnalités</strong></th><th style="text-align:center;"><strong>Valeurs du feature-flag</strong></th></tr></thead><tbody><tr><td>Passer l&#39;affichage en pleine largeur</td><td style="text-align:center;"><code>fullScreen</code></td></tr><tr><td>Nombre de semaine dans le calendrier</td><td style="text-align:center;"><code>weekPref</code></td></tr><tr><td>Réduire les jours passés</td><td style="text-align:center;"><code>pastDays</code></td></tr><tr><td>Réduire certains jours en particulier</td><td style="text-align:center;"><code>weekDay</code></td></tr><tr><td>Les jours du calendrier a réduire</td><td style="text-align:center;"><code>agency</code></td></tr><tr><td>Choix de l&#39;agence par défaut</td><td style="text-align:center;"><code>favorite</code></td></tr><tr><td>Inscription au poste sur des demi-journées</td><td style="text-align:center;"><code>halfDay</code></td></tr><tr><td>Point d&#39;information sur la carte</td><td style="text-align:center;"><code>complementaryInformation</code></td></tr></tbody></table><h2 id="fonctionnement" tabindex="-1">Fonctionnement <a class="header-anchor" href="#fonctionnement" aria-label="Permalink to &quot;Fonctionnement&quot;">​</a></h2><p>Les feature-flags se liste les un après les autres, séparé chacun par une virgule, comme par exemple :</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VITE_FEATURE_FLAGS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">fullScreen,weekPref</span></span></code></pre></div><br><p>Si cette liste contient le caractère <code>*</code> (uniquement lui, ou avec d&#39;autres valeurs), alors toutes les fonctionnalités seront activées.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VITE_FEATURE_FLAGS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">fullScreen,weekPref,*</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> équivalent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> à</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VITE_FEATURE_FLAGS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">*</span></span></code></pre></div><br><p>Pour activer toutes les fonctionnalités sauf certaines, il suffit d&#39;utiliser le caractère <code>*</code> et les valeurs des feature-flag mais suffixé par un <code>-</code>. L&#39;exemple suivant revient à activer toutes les fonctionnalités, sauf celle permettant de passer l&#39;affichage en plein écran.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VITE_FEATURE_FLAGS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">*,-fullScreen</span></span></code></pre></div><h3 id="quelques-exemples" tabindex="-1">Quelques exemples <a class="header-anchor" href="#quelques-exemples" aria-label="Permalink to &quot;Quelques exemples&quot;">​</a></h3><table tabindex="0"><thead><tr><th><strong>Effet</strong></th><th style="text-align:left;"><strong>Valeur</strong></th></tr></thead><tbody><tr><td><em><strong>fullScreen</strong></em> uniquement</td><td style="text-align:left;"><code>fullScreen</code> <br> <code>fullscreen, weekpref, -weekpref</code></td></tr><tr><td><em><strong>fullScreen</strong></em> et <em><strong>weekPref</strong></em> uniquement</td><td style="text-align:left;"><code>fullScreen,weekPref</code></td></tr><tr><td>tous</td><td style="text-align:left;"><code>fullScreen,weekPref, *</code> <br> <code>*</code></td></tr><tr><td>tous, sauf <em><strong>fullScreen</strong></em></td><td style="text-align:left;"><code>*,-fullscreen</code> <br> <code>-fullscreen,*</code> <br> <code>fullscreen,*,-fullscreen</code></td></tr></tbody></table>`,19)]))}const f=t(n,[["render",l]]);export{h as __pageData,f as default};
